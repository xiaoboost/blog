<!DOCTYPE html><html lang="zh-cmn-Hans-CN"><head><title>重写博客</title><meta name="charset" content="utf-8"/><meta name="author" content="xiao"/><meta name="description" content="抽空把博客重写了，这里是新博客的一些碎碎念。"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="renderer" content="webkit"/><meta name="force-rendering" content="webkit"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><link rel="short icon" href="/images/favicon.d49166d79effe7141443cbb12866f5f5.ico"/><link rel="stylesheet" type="text/css" href="/styles/layout.afccee51719742708660d2a47ce938d1.css"/><link rel="stylesheet" type="text/css" href="/styles/post.d2fab5f40a24b2db660d67aa072ececb.css"/><link rel="stylesheet" type="text/css" href="/posts/2020/zhong4-xie3-bo2-ke4/styles/heading.906758ca049017b27db72a74ec06c231.css"/></head><body><header class="main-header-wrapper"><span class="main-header"><a class="main-title" href="/">Dreaming Cat&#x27;s</a><nav class="main-nav"><a href="/" class="main-nav-item">首页</a><a href="/tags/" class="main-nav-item">标签</a><a href="/archive/" class="main-nav-item">归档</a><a href="/posts/about/" class="main-nav-item">关于</a></nav></span></header><article class="main-article-wrapper"><div class="main-article"><section class="post-default"><header class="post-header"><h1 class="post-header-title">重写博客</h1><time class="post-header-create">2020-05-02</time></header><article class="post-article"><p>因为工作的原因<del>鸽子</del>，很久没有再写博客，半个月前终于决定写一篇，但是突然发现博客无法正常工作了。修了老久也没修好，以此为契机就决定把博客重写一遍啦。</p>
<h1 id="%e7%bd%91%e7%ab%99"><a class="post-anchor" href="#%e7%bd%91%e7%ab%99">§</a>网站</h1>
<p>不管是之前的博客还是现在的博客，本质上都是静态网页，不包含任何服务器交互。</p>
<p>上一个博客其实是个单页应用，所有的页面数据是直接编译成了<code>json</code>字符串保存在了我的代码仓库中，切换到哪个页面就去请求哪个页面的数据。这样做的好处是整个交互可以做的很好看，页面切换可以做很多酷炫的效果，但是这样有个缺点，当时是用<code>vue</code>做的，每个页面加载都需要完整的加载所有库和包，累积起来是个比较大的数量，对于以文字为主的博客来说，这点等待的时间，我觉得不是很好。<br/><span class="post-soft-break"></span>这次重写，完全回归了古老的网站结构，整个网站是多页面的，每个页面都有自己的<code>html</code>文件，这样做的话，每个页面的结构我可以更加灵活更加精确的加以控制。</p>
<h1 id="%e9%a1%b5%e9%9d%a2"><a class="post-anchor" href="#%e9%a1%b5%e9%9d%a2">§</a>页面</h1>
<p>新的博客彻底去掉了那些动态效果和五颜六色的大色块，主色调选择了黑白，配合少量浅色<code>色块</code>。<br/><span class="post-soft-break"></span>UI 上还是以卡片式设计为主，不过去掉了旧博客很多小卡片排列的风格，页面只有几个大卡片，然后用浅黑色直线切割成不同区域。<br/><span class="post-soft-break"></span>博客还是以文字阅读为主，所以花了很长时间在调整文字排版的效果上。所有标题均为衬线字体，正文为黑体。因为是中文阅读，我还是坚持每个段落首行缩进。有关斜体的问题，我个人不太喜欢斜体中文，中文没有写斜体的习惯，这纯粹只是西文的习惯，所以在网站中，斜体采用下划线，中英混排时只有西文是斜体，中文不变，例如：<em>中英文混排 Mixed Chinese and English</em>。在下划线方面，由于浏览器自带下划线和文本之间没有间隔，英文问题不大，<u>中文就显得很难看</u>，所以这里采用背景渐变的方式重新做了下划线。</p>
<h1 id="%e5%b7%a5%e7%a8%8b"><a class="post-anchor" href="#%e5%b7%a5%e7%a8%8b">§</a>工程</h1>
<p>编译方面之前本来打算模仿<code>webpack</code>的流程，就是提供标准的调度器和内部接口，然后不同的资源用不同的加载器来进行加载，调度器对依赖资源的变更而自动进行最小子图的重载。当时这么考虑主要是因为编译太慢了，所以必须要在用户资源更新的时候用最小的代价去构建，这样的话就要求有标准接口，这东西写起来实在是费劲得很。<br/><span class="post-soft-break"></span>现在的博客的编译没有这样复杂的流程，每次资源变更都全部重新编译，之所以现在可以这么任性，主要是因为换了<code>esbuild</code>，速度真的太快了，在这里向各位推荐一下这个打包工具。</p>
<p>文章部分留出了多模板的接口，希望以后有时间针对不同的文章可以自动加载不同的模板。页面模板方面选用了<code>React</code>，它的<code>SSR</code>功能可以直接生成网页源码，我们将源码保存成文件就可以了。<br/><span class="post-soft-break"></span>与页面主要排版不相干的交互全部放到<em>插件</em>系统中，插件系统提供统一的调度和载入模块。现在是一起打包到所有页面中的，以后希望能做成按需打包。</p>
<h1 id="%e4%bb%a5%e5%90%8e"><a class="post-anchor" href="#%e4%bb%a5%e5%90%8e">§</a>以后</h1>
<p>这个新的博客还只是个架子，很多功能都还没有上，以后慢慢补文章的时候再完善吧。至于以前的旧文章，以后有空了再搬运吧。</p></article></section><aside class="to-content"><header class="menu-list-header">目录</header><article class="menu-list-article"><ul class="menu-list"><li class="menu-item menu-level1"><a href="#%e7%bd%91%e7%ab%99"><i data-name="circle" class="icon-box menu-icon"><svg viewBox="0 0 8 8" version="1.1" width="1em" height="1em" aria-hidden="true" fill="currentColor"><path d="M 4, 4 m -3, 0 a 3,3 0 1,0 6,0 a 3,3 0 1,0 -6,0"></path></svg></i>网站</a></li><li class="menu-item menu-level1"><a href="#%e9%a1%b5%e9%9d%a2"><i data-name="circle" class="icon-box menu-icon"><svg viewBox="0 0 8 8" version="1.1" width="1em" height="1em" aria-hidden="true" fill="currentColor"><path d="M 4, 4 m -3, 0 a 3,3 0 1,0 6,0 a 3,3 0 1,0 -6,0"></path></svg></i>页面</a></li><li class="menu-item menu-level1"><a href="#%e5%b7%a5%e7%a8%8b"><i data-name="circle" class="icon-box menu-icon"><svg viewBox="0 0 8 8" version="1.1" width="1em" height="1em" aria-hidden="true" fill="currentColor"><path d="M 4, 4 m -3, 0 a 3,3 0 1,0 6,0 a 3,3 0 1,0 -6,0"></path></svg></i>工程</a></li><li class="menu-item menu-level1"><a href="#%e4%bb%a5%e5%90%8e"><i data-name="circle" class="icon-box menu-icon"><svg viewBox="0 0 8 8" version="1.1" width="1em" height="1em" aria-hidden="true" fill="currentColor"><path d="M 4, 4 m -3, 0 a 3,3 0 1,0 6,0 a 3,3 0 1,0 -6,0"></path></svg></i>以后</a></li></ul></article></aside></div></article><footer class="main-footer"><span>Powered by </span><a href="https://github.com/xiaoboost" class="main-footer-href">Xiao</a><span> &amp; </span><a href="https://pages.github.com/" class="main-footer-href">Github Pages</a><span style="font-size:110%"> © </span><span>Since 2020</span></footer><div class="goto-top"><button class="goto-top-btn"><svg fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M16.036 19.59a1 1 0 0 1-.997.995H9.032a.996.996 0 0 1-.997-.996v-7.005H5.03c-1.1 0-1.36-.633-.578-1.416L11.33 4.29a1.003 1.003 0 0 1 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.005z"></path></svg></button></div><div data-width="8" data-mode="y" class="scrollbar invisible"><div class="slider"></div></div><script type="text/javascript" src="/scripts/layout.a1cf0ac821123b4e55217ecaae515f88.js"></script><script type="text/javascript" src="/scripts/post.3a108c44d494dcfb1ab471f7db3d5348.js"></script></body></html>